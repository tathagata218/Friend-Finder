<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <script
    src="https://code.jquery.com/jquery-3.2.1.js"
    integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
    crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<style>
    body{
        margin: 0;
        padding: 0;
        padding-bottom: 30px;
    }

</style>
<body>
        <div class="container">
                <div class="jumbotron">
                    <h1>This is the Survey Page Page!!!</h1>
                </div>
            </div>
            <hr>
        <div class="container">
            <h1>Enter Your Information</h1>
            <h4>Name : </h4>
            <input type="text" id="nameInfo" class="form-control usersInfoInput">
            <h4>Image URL</h4>
            <input type="text" id="imgURL" class="form-control usersInfoInput">
            <hr>
            <h1>Questions</h1>
            <div class="row">
                <div class="col-lg-12">
                    <h4><strong> 0 - Strongly Disaggre 5 - Strongly Aggre </strong></h4>
            <h3>Question 1</h3>
            <h4>Do Your mind is always buzzing with unexplored ideas and plans. </h4>
            <select id='qus1' class="selectpicker usersNumInput">
                    <option>Entry</option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                  </select>

            <h3>Question 2</h3>
                  <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
                  <select id='qus2' class="selectpicker usersNumInput">
                        <option>Entry</option>
                          <option>0</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
            <h3>Question 3</h3>
                        <h4>You rarely do something just out of sheer curiosity.</h4>
                        <select id='qus3' class="selectpicker usersInfoInput">
                              <option>Entry</option>
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                              </select>
            

                        <h3>Question 4</h3>
                              <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not. </h4>
                              <select id='qus4' class="selectpicker usersNumInput">
                                    <option>Entry</option>
                                      <option>0</option>
                                      <option>1</option>
                                      <option>2</option>
                                      <option>3</option>
                                      <option>4</option>
                                      <option>5</option>
                                    </select>
                        <h3>Question 5</h3>
                                    <h4>You feel more energetic after spending time with a group of people. </h4>
                                    <select id='qus5' class="selectpicker usersNumInput">
                                          <option>Entry</option>
                                            <option>0</option>
                                            <option>1</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5</option>
                                          </select>
                        <h3>Question 6</h3>
                                          <h4>It is often difficult for you to relate to other people’s feelings.</h4>
                                          <select id='qus6' class="selectpicker usersNumInput">
                                                <option>Entry</option>
                                                  <option>0</option>
                                                  <option>1</option>
                                                  <option>2</option>
                                                  <option>3</option>
                                                  <option>4</option>
                                                  <option>5</option>
                                                </select>
                        <h3>Question 7</h3>
                                                <h4>In a discussion, truth should be more important than people’s sensitivities. </h4>
                                                <select id='qus7' class="selectpicker usersNumInput">
                                                      <option>Entry</option>
                                                        <option>0</option>
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                      </select>

                        <h3>Question 8</h3>
                  <h4>Do you play excessive amount of Games ? </h4>
                  <select id='qus8' class="selectpicker usersNumInput">
                        <option>Entry</option>
                          <option>0</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>

                        <h3>Question 9</h3>
                        <h4>Are you a People person ? </h4>
                        <select id='qus9' class="selectpicker usersNumInput">
                              <option>Entry</option>
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                              </select>
                              <h3>Question 10</h3>
                              <h4>You rarely do something just out of sheer curiosity. </h4>
                              <select id='qus10' class="selectpicker usersNumInput">
                                    <option>Entry</option>
                                      <option>0</option>
                                      <option>1</option>
                                      <option>2</option>
                                      <option>3</option>
                                      <option>4</option>
                                      <option>5</option>
                                    </select>
                    
        </div>
        <div class="row">
            <div class="col-lg-12">
        <button id="submit" style="margin-top: 20px" class="btn btn-lg btn-primary" type="submit" >Submit</button>
        </div>
        </div>
        </div>
        </div>
        <div id="resultsModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
          
                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">×</button>
                      <h2 class="modal-title"><strong>Best Match</strong></h2>
                    </div>
                    <div class="modal-body">
                      <h2 id="matchName"></h2>
                      <img id="matchImg" src="" alt="">
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>

    
</body>
<script>
$(function(){
var friendName;
$("#submit").on('click', () => {
if($(".usersInfoInput").val().trim() === ' ' || $('.usersNumInput').val().trim() === "Entry" ){
    alert("Please fill out all the quesions!!!");
}
else {
 friendName={
    name : $('#nameInfo').val().trim(),
    img : $('#imgURL').val().trim(),
    scores: [parseInt($('#qus1').val().trim()),parseInt($('#qus2').val().trim()),parseInt($('#qus3').val().trim()),parseInt($('#qus4').val().trim()),parseInt($('#qus5').val().trim()),parseInt($('#qus6').val().trim()),parseInt($('#qus7').val().trim()),parseInt($('#qus8').val().trim()),parseInt($('#qus9').val().trim()),parseInt($('#qus10').val().trim())]  
};
console.log(friendName);
sendData();
}

function sendData(){
var currentURL = window.location.origin; 

$.post(currentURL+'/api/friends/data', friendName, (data) =>{

    console.log('IT is sent');
    console.log(data);
    $('#matchName').text(data.name);
    $("#matchImg").attr('src',data.img);

    $('#resultsModal').modal('toggle');
});
}
});


});
</script>
</html>